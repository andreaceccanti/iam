<form class="form-horizontal" ng-submit="addUserCtrl.submit()" name="userCreationForm" id="userCreationForm" ng-init="addUserCtrl.reset()">

  <div class="modal-header">
    <h3 class="modal-title">User creation form</h3>
  </div>

  <div class="modal-body">
    <operationresult />

    <div class="form-group">
      <label class="control-label col-sm-2" for="name">Name</label>
      <div ng-class="{'has-error': userCreationForm.name.$dirty && userCreationForm.name.$invalid, 'has-success': userCreationForm.name.$dirty && userCreationForm.name.$valid}">
        <div class="col-sm-10">
          <input class="form-control" name="name" id="name" type="text" ng-model="addUserCtrl.user.name" placeholder="First name" required ng-minlength="3" />
          <span class="glyphicon form-control-feedback" ng-class="{'glyphicon-remove': userCreationForm.name.$dirty && userCreationForm.name.$invalid, 'glyphicon-ok': userCreationForm.name.$dirty && userCreationForm.name.$valid}" style="right: 15px"></span>
          <span class="help-block" ng-show="userCreationForm.name.$dirty && userCreationForm.name.$error.required"> This is a required field</span>
          <span class="help-block" ng-show="userCreationForm.name.$dirty && userCreationForm.name.$error.minlength">Minimum length required is 3</span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2" for="surname">Surname</label>
      <div ng-class="{'has-error': userCreationForm.surname.$dirty && userCreationForm.surname.$invalid, 'has-success': userCreationForm.surname.$dirty && userCreationForm.surname.$valid}">
        <div class="col-sm-10">
          <input class="form-control" name="surname" id="surname" type="text" ng-model="addUserCtrl.user.surname" placeholder="Surname" required ng-minlength="3" />
          <span class="glyphicon form-control-feedback" ng-class="{'glyphicon-remove': userCreationForm.surname.$dirty && userCreationForm.surname.$invalid, 'glyphicon-ok': userCreationForm.surname.$dirty && userCreationForm.surname.$valid}" style="right: 15px"></span>
          <span class="help-block" ng-show="userCreationForm.surname.$dirty && userCreationForm.surname.$error.required"> This is a required field</span>
          <span class="help-block" ng-show="userCreationForm.surname.$dirty && userCreationForm.surname.$error.minlength">Minimum length required is 3</span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2" for="email">Email</label>
      <div ng-class="{'has-error': userCreationForm.email.$dirty && userCreationForm.email.$invalid, 'has-success': userCreationForm.email.$dirty && userCreationForm.email.$valid}">
        <div class="col-sm-10">
          <input class="form-control" name="email" id="email" type="email" ng-model="addUserCtrl.user.email" placeholder="Email" required ng-minlength="3" iam-email-available-validator ng-model-options="{ debounce : { 'default' : 500 } }" />
          <span class="glyphicon form-control-feedback" ng-class="{'glyphicon-remove': userCreationForm.email.$dirty && userCreationForm.email.$invalid, 'glyphicon-ok': userCreationForm.email.$dirty && userCreationForm.email.$valid}" style="right: 15px"></span>
          <span class="help-block" ng-show="userCreationForm.email.$dirty && userCreationForm.email.$error.required">This is a required field</span>
          <span class="help-block" ng-show="userCreationForm.email.$dirty && userCreationForm.email.$error.email">This is not a valid email</span>
          <span class="help-block" ng-show="userCreationForm.email.$dirty && userCreationForm.email.$error.emailAvailable">Email already taken by another user</span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2" for="username">Username</label>
      <div ng-class="{'has-error': userCreationForm.username.$dirty && userCreationForm.username.$invalid, 'has-success': userCreationForm.username.$dirty && userCreationForm.username.$valid}">
        <div class="col-sm-10">
          <input class="form-control" id="username" name="username" type="text" ng-model="addUserCtrl.user.username" placeholder="Username" required ng-minlength="3" iam-username-available-validator ng-model-options="{ debounce : { 'default' : 500 } }" />
          <span class="glyphicon form-control-feedback" ng-class="{'glyphicon-remove': userCreationForm.username.$dirty && userCreationForm.username.$invalid, 'glyphicon-ok': userCreationForm.username.$dirty && userCreationForm.username.$valid}" style="right: 15px"></span>
          <span class="help-block" ng-show="userCreationForm.username.$dirty && userCreationForm.username.$error.required"> This is a required field</span>
          <span class="help-block" ng-show="userCreationForm.username.$dirty && userCreationForm.username.$error.minlength">Minimum length required is 3</span>
          <span class="help-block" ng-show="userCreationForm.username.$dirty && userCreationForm.username.$error.usernameAvailable">Username already in use</span>
        </div>
      </div>
    </div>

  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" type="submit" name="create" id="modal-btn-confirm" ng-disabled="userCreationForm.$invalid || userCreationForm.$pristine || !addUserCtrl.enabled">Create</button>
    <button class="btn btn-warning" type="button" name="reset" id="modal-btn-reset" ng-click="addUserCtrl.reset()" ng-disabled="userCreationForm.$pristine">Reset Form</button>
    <button class="btn btn-danger" type="button" name="dismiss" id="modal-btn-cancel" ng-click="addUserCtrl.dismiss()">Cancel</button>
  </div>

</form>
